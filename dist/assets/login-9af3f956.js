import{a5 as y,r as i,a6 as v,a7 as k,a8 as S,K as I,j as e,z as x,a9 as L,q as C,S as g,aa as E,T as m,$ as j,a1 as P,I as T,w as A,L as B,ab as z,W as F}from"./index-a9286523.js";import{C as M}from"./Card-5f97e277.js";function W(){const a=y();return i.useMemo(()=>({back:()=>a(-1),forward:()=>a(1),reload:()=>window.location.reload(),push:n=>a(n),replace:n=>a(n,{replace:!0})}),[a])}const D=()=>{const a=v(),r=W(),[n]=k();return{handlelogin:async(c,l,d,u)=>{try{const t=await n({email:c,password:l}).unwrap();console.log(t),a(S(t)),localStorage.setItem("accessToken",t.token),console.log("dashboard"),r.push("/dashboard")}catch(t){u(t.data),console.log(t)}finally{d(!1)}}}};function R(){const a=I(),[r,n]=i.useState(!1),[s,c]=i.useState(""),[l,d]=i.useState(""),[u,t]=i.useState(!1),[p,f]=i.useState(null),{handlelogin:w}=D(),b=async o=>{o.preventDefault(),t(!0),await w(s,l,t,f)},h=o=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o);return e.jsxs(x,{sx:{display:"flex",height:"100vh",...L({color:C(a.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"})},children:[e.jsxs(g,{sx:{width:"50%",p:5,alignItems:"center",justifyContent:"center"},children:[e.jsx(E,{sx:{mb:5}}),e.jsxs(M,{sx:{p:5,width:"100%",maxWidth:420},children:[e.jsx(m,{variant:"h4",style:{marginBottom:60},children:"Sign in to Yawa App"}),e.jsxs("form",{onSubmit:b,children:[e.jsxs(g,{spacing:3,children:[e.jsx(j,{name:"email",label:"Email address",value:s,onChange:o=>c(o.target.value),error:!!s&&!h(s),helperText:s&&!h(s)?"Enter a valid email":""}),e.jsx(j,{name:"password",label:"Password",type:r?"text":"password",value:l,onChange:o=>d(o.target.value),InputProps:{endAdornment:e.jsx(P,{position:"end",children:e.jsx(T,{onClick:()=>n(!r),edge:"end",children:e.jsx(A,{icon:r?"eva:eye-fill":"eva:eye-off-fill"})})})}})]}),e.jsx(g,{direction:"row",alignItems:"center",justifyContent:"flex-end",sx:{my:3},children:e.jsx(B,{variant:"subtitle2",underline:"hover",children:"Forgot password?"})}),p&&e.jsx(m,{color:"error",sx:{mb:3},children:p}),e.jsx(z,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",loading:u,disabled:!s||!l||!!(s&&!h(s)),children:"Login"})]})]})]}),e.jsx(x,{sx:{width:"50%",backgroundImage:'url("https://yawaapp.com.ng/oakuglek/2024/05/11shots_so.png")',backgroundSize:"cover",backgroundPosition:"center"}})]})}function _(){return e.jsxs(e.Fragment,{children:[e.jsx(F,{children:e.jsx("title",{children:" Login | Minimal UI "})}),e.jsx(R,{})]})}export{_ as default};
