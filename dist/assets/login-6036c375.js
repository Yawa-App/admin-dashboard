import{a5 as b,r as i,a6 as v,K as k,j as e,z as p,a7 as S,q as I,S as h,a8 as L,T as m,$ as j,a1 as C,I as E,w as P,L as T,a9 as A,W as B}from"./index-b035a519.js";import{C as z}from"./Card-fa1dfd48.js";function F(){const s=b();return i.useMemo(()=>({back:()=>s(-1),forward:()=>s(1),reload:()=>window.location.reload(),push:o=>s(o),replace:o=>s(o,{replace:!0})}),[s])}const M=()=>{const s=F(),[n]=v();return{handlelogin:async(a,d,l,c)=>{try{const r=await n({email:a,password:d}).unwrap();localStorage.setItem("accessToken",r.token),s.push("/dashboard")}catch(r){c(r.data),console.log(r)}finally{l(!1)}}}};function W(){const s=k(),[n,o]=i.useState(!1),[a,d]=i.useState(""),[l,c]=i.useState(""),[r,g]=i.useState(!1),[x,f]=i.useState(null),{handlelogin:w}=M(),y=async t=>{t.preventDefault(),g(!0),await w(a,l,g,f)},u=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t);return e.jsxs(p,{sx:{display:"flex",height:"100vh",...S({color:I(s.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"})},children:[e.jsxs(h,{sx:{width:"50%",p:5,alignItems:"center",justifyContent:"center"},children:[e.jsx(L,{sx:{mb:5}}),e.jsxs(z,{sx:{p:5,width:"100%",maxWidth:420},children:[e.jsx(m,{variant:"h4",style:{marginBottom:60},children:"Sign in to Yawa App"}),e.jsxs("form",{onSubmit:y,children:[e.jsxs(h,{spacing:3,children:[e.jsx(j,{name:"email",label:"Email address",value:a,onChange:t=>d(t.target.value),error:!!a&&!u(a),helperText:a&&!u(a)?"Enter a valid email":""}),e.jsx(j,{name:"password",label:"Password",type:n?"text":"password",value:l,onChange:t=>c(t.target.value),InputProps:{endAdornment:e.jsx(C,{position:"end",children:e.jsx(E,{onClick:()=>o(!n),edge:"end",children:e.jsx(P,{icon:n?"eva:eye-fill":"eva:eye-off-fill"})})})}})]}),e.jsx(h,{direction:"row",alignItems:"center",justifyContent:"flex-end",sx:{my:3},children:e.jsx(T,{variant:"subtitle2",underline:"hover",children:"Forgot password?"})}),x&&e.jsx(m,{color:"error",sx:{mb:3},children:x}),e.jsx(A,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",loading:r,disabled:!a||!l||!!(a&&!u(a)),children:"Login"})]})]})]}),e.jsx(p,{sx:{width:"50%",backgroundImage:'url("https://yawaapp.com.ng/oakuglek/2024/05/11shots_so.png")',backgroundSize:"cover",backgroundPosition:"center"}})]})}function V(){return e.jsxs(e.Fragment,{children:[e.jsx(B,{children:e.jsx("title",{children:" Login | Minimal UI "})}),e.jsx(W,{})]})}export{V as default};
